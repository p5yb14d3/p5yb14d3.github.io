var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,f,a){c instanceof String&&(c=String(c));for(var g=c.length,k=0;k<g;k++){var q=c[k];if(f.call(a,q,k,c))return{i:k,v:q}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,f,a){c!=Array.prototype&&c!=Object.prototype&&(c[f]=a.value)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(c,f,a,g){if(f){a=$jscomp.global;c=c.split(".");for(g=0;g<c.length-1;g++){var k=c[g];k in a||(a[k]={});a=a[k]}c=c[c.length-1];g=a[c];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6","es3");var ui;$(document).ready(function(){ui=new classUI;ui.init();ui.space.drawObject()});
function classSpace(c){function f(){if("sun"==this.object_name){var b=(new Date).getTime(),a=.005*(b-D);D=b;A.time.value+=.1*a}"front"==h?l.rotation.y+=d.rotation:l.rotation.x+=d.rotation;B.rotation.y+=5E-5;"asteroids"==this.object_name&&C.forEach(function(b){b.rotation.x-=b.r.x;b.rotation.y-=b.r.y;b.rotation.z-=b.r.z})}function a(){f();requestAnimationFrame(a);u.render(m,n);r.update()}function g(b,a,g,d,c){geometry=new THREE.DodecahedronGeometry(b,1);geometry.vertices.forEach(function(a){a.x+=-(b/
4*Math.random());a.y+=-(b/4*Math.random());a.z+=-(b/4*Math.random())});var p=k("#111111",2+10*Math.random());texture=v.wireframe?new THREE.MeshPhongMaterial({color:"lime",wireframe:!0,side:THREE.DoubleSide}):new THREE.MeshPhongMaterial({color:p,flatShading:THREE.FlatShading,shininess:.01,map:THREE.ImageUtils.loadTexture("textures/asteroid.jpg")});cube=new THREE.Mesh(geometry,texture);cube.castShadow=!0;cube.receiveShadow=!0;cube.scale.set(1+.4*Math.random(),1+.8*Math.random(),1+.4*Math.random());
a=a/2-Math.random()*a;g=1-Math.abs(a)/(g/2);cube.position.set(a,(d/2-Math.random()*d)*g,(c/2-Math.random()*c)*g);cube.r={};cube.r.x=.005*Math.random();cube.r.y=.005*Math.random();cube.r.z=.005*Math.random();return cube}function k(b,a){b=String(b).replace(/[^0-9a-f]/gi,"");6>b.length&&(b=b[0]+b[0]+b[1]+b[1]+b[2]+b[2]);a=a||0;var g="#",d;for(d=0;3>d;d++){var c=parseInt(b.substr(2*d,2),16);c=Math.round(Math.min(Math.max(0,c+c*a),255)).toString(16);g+=("00"+c).substr(c.length)}return g}function q(b,a,
g,d){a=(void 0===a?0:a)*Math.PI/180;g=(void 0===g?0:g)*Math.PI/180;d=(void 0===d?0:d)*Math.PI/180;b.rotateX(a);b.rotateY(g);b.rotateZ(d)}$("#universe").hide();$("#controls").hide();var v=this,b={},p={},E={},d="";this.ui=c;this.wireframe=!1;this.allow_controls_affect_camera=this.force_controls=!0;this.object_name="earth";var w=document.getElementById("container"),F=new THREE.Color(16777215);if(Detector.webgl){b.sun={name:"sun",radius:30,scale:8,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:0,
directional_light:!0,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:1118481,ambient_intensity:1,texture:"textures/sunmap.jpg"};b.mercury={name:"mercury",radius:30,scale:3,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:5E-4,directional_light:!0,directional_position:[5,3,5],directional_color:1118481,directional_intensity:5,ambient_color:16777215,ambient_intensity:1,texture:"textures/mercurymap.jpg"};b.venus={name:"venus",radius:30,scale:5,segments:100,
position:[0,0,0],rotate:[0,0,90],rotation:1E-4,directional_light:!1,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:16777215,ambient_intensity:1,texture:"textures/venusmap.jpg"};b.earth={name:"earth",radius:30,scale:5,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!1,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:16777215,ambient_intensity:1,texture:"textures/land_ocean_ice_cloud_2048.jpg"};
b.moon={name:"moon",radius:30,scale:3.32,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:0,directional_light:!0,directional_position:[0,0,10],directional_color:3355443,directional_intensity:10,ambient_color:3355443,ambient_intensity:1,texture:"textures/moonmap1k.jpg"};b.mars={name:"mars",radius:30,scale:4.66,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!1,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:16777215,
ambient_intensity:1,texture:"textures/marsmap1k.jpg"};b.jupiter={name:"jupiter",radius:30,scale:10.66,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!0,directional_position:[5,3,5],directional_color:986895,directional_intensity:13,ambient_color:1118481,ambient_intensity:1,texture:"textures/jupitermap.jpg"};b.saturn={name:"saturn",radius:30,scale:9.33,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.002,directional_light:!0,directional_position:[-7,3,5],directional_color:1118481,
directional_intensity:10,ambient_color:2236962,ambient_intensity:1,texture:"textures/saturnmap.jpg"};b.uranus={name:"uranus",radius:30,scale:6.66,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!0,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:1710618,ambient_intensity:1,texture:"textures/uranusmap.jpg"};b.neptune={name:"neptune",radius:30,scale:6.66,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!0,
directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:1710618,ambient_intensity:1,texture:"textures/neptunemap.jpg"};b.pluto={name:"pluto",radius:30,scale:2,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:8E-4,directional_light:!0,directional_position:[5,3,5],directional_color:1118481,directional_intensity:10,ambient_color:1710618,ambient_intensity:1,texture:"textures/plutomap1k.jpg"};b.asteroids={name:"asteroids",radius:30,scale:.1,segments:100,position:[0,
0,0],rotate:[0,0,90],rotation:.001,directional_light:!0,directional_position:[5,3,5],directional_color:16744228,directional_intensity:5,ambient_color:16777215,ambient_intensity:10,texture:"textures/sunmap.jpg"};p.sun={name:"sun",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:"off",rotation:0,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/sunmap.jpg"};p.mercury={name:"mercury",
radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/mercurymap.jpg"};p.venus={name:"venus",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,
ambient_intensity:0,texture:"textures/venusmap.jpg"};p.earth={name:"earth",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/land_ocean_ice_cloud_2048.jpg"};p.moon={name:"moon",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,
120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/moonmap1k.jpg"};p.mars={name:"mars",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/marsmap1k.jpg"};p.jupiter={name:"jupiter",radius:30,scale:1,segments:100,position:[0,-32,740],
rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/jupitermap.jpg"};p.saturn={name:"saturn",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/saturnmap.jpg"};
p.uranus={name:"uranus",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/uranusmap.jpg"};p.neptune={name:"neptune",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,
ambient_color:2236962,ambient_intensity:0,texture:"textures/neptunemap.jpg"};p.pluto={name:"pluto",radius:30,scale:1,segments:100,position:[0,-32,740],rotate:[0,0,90],rotation:1.5E-4,directional_light:!0,directional_position:[0,120,-150],directional_color:13421772,directional_intensity:10,ambient_color:2236962,ambient_intensity:0,texture:"textures/plutomap1k.jpg"};p.asteroids={name:"asteroids",radius:30,scale:.1,segments:100,position:[0,0,0],rotate:[0,0,90],rotation:.001,directional_light:!0,directional_position:[5,
3,5],directional_color:16744228,directional_intensity:5,ambient_color:16777215,ambient_intensity:10,texture:"textures/sunmap.jpg"};E={front:b,hover:p};var h="front",m=new THREE.Scene,u=new THREE.WebGLRenderer;u.setSize(window.innerWidth,window.innerHeight);u.setClearColor(0);u.shadowMap.enabled=!0;u.shadowMap.type=THREE.PCFSoftShadowMap;var n=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,2E3),G=new THREE.AmbientLight;m.add(G);var t=new THREE.DirectionalLight;m.add(t);var r=
new THREE.TrackballControls(n);r.minDistance=500;r.maxDistance=1E3;r.rotateSpeed=.005;r.noPan=!0;var D=(new Date).getTime(),A={time:{value:1},scale:{value:1.5}};b="hover"==h?"vertexShader_hover":"vertexShader1";var H=new THREE.ShaderMaterial({uniforms:A,fragmentShader:document.getElementById("fragmentShader1").textContent,vertexShader:document.getElementById(b).textContent});new THREE.ShaderMaterial({uniforms:A,fragmentShader:document.getElementById("fragmentShader1").textContent,vertexShader:document.getElementById(b).textContent});
new THREE.ShaderMaterial({fragmentShader:document.getElementById("fragmentShaderGlow").textContent,vertexShader:document.getElementById("vertexShaderGlow").textContent});var l=new THREE.Mesh(new THREE.SphereGeometry(30,100,100),new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture(""),specular:new THREE.Color("grey"),shininess:5}));m.add(l);var I=l.material,B=new THREE.Mesh(new THREE.SphereGeometry(1E3,100,100),new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture("images/galaxy_starfield.png"),
side:THREE.BackSide}));m.add(B);var y=new THREE.Mesh(new THREE.TorusGeometry(460,80,2,160),new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture("textures/saturnringpattern.gif"),transparent:!0,opacity:.8}));y.rotation.x=Math.PI/2;y.name="ring";var C=function(){for(var b=[],a=0;7>a;a++)b.push(g(5+50*Math.random(),5E3,1E3,800*Math.random(),800*Math.random()));for(a=0;30>a;a++)b.push(g(5+20*Math.random(),5E3,1E3,800*Math.random(),800*Math.random()));for(a=0;160>a;a++)b.push(g(2+5*Math.random(),
5E3,1E3,800*Math.random(),800*Math.random()));return b}();w.appendChild(u.domElement);a();m.fog=new THREE.Fog(0,3500,15E3);m.fog.color.setHSL(.51,.4,.01);w=(new THREE.TextureLoader).load("textures/lensflare/lensflare0.png");var z=new THREE.Lensflare;z.addElement(new THREE.LensflareElement(w,window.innerWidth,0,F));z.addElement(new THREE.LensflareElement(w,window.innerWidth,0,F));z.name="lensFlare";this.drawObject=function(b){"undefined"!==typeof b&&(this.object_name=b);c.hud.loadInfoAndStats(this.object_name);
d=E[h][this.object_name];"off"!=d.position&&(l.position.z=d.position[2],l.position.y=d.position[1],l.position.x=d.position[0]);"saturn"==d.name&&"front"==h?(n.position.z=750,n.position.y=100,n.position.x=100,n.up=new THREE.Vector3(0,.05,-.2)):"asteroids"==this.object_name?(n.position.z=0,n.position.y=0,n.position.x=1E3,n.up=new THREE.Vector3(-90,90,0)):(n.position.z=750,n.position.y=0,n.position.x=0);G.color.setHex(d.ambient_color,d.ambient_intensity);d.directional_light?(t.color.setHex(d.directional_color),
t.intensity=d.directional_intensity,t.position.set(d.directional_position[0],d.directional_position[1],d.directional_position[2]),t.target=l):t.intensity=0;"saturn"==d.name&&"front"==h?m.add(y):m.remove(y);"asteroids"==d.name?this.showAsteroids():this.hideAsteroids();"sun"==d.name&&m.add(z);m.remove(z);"sun"==d.name?m.add(l):"asteroids"==d.name?m.remove(l):m.add(l);l.scale.x=d.scale;l.scale.y=d.scale;l.scale.z=d.scale;"sun"==this.object_name?(l.rotation.set(0,0,0),l.updateMatrix(),l.material=H,"hover"==
h&&q(l,d.rotate[0],d.rotate[1],d.rotate[2])):"asteroid"!=this.object_name&&(l.rotation.set(0,0,0),l.updateMatrix(),l.material=I,l.material.map=THREE.ImageUtils.loadTexture(d.texture),l.material.shininess=1,"hover"==h&&q(l,d.rotate[0],d.rotate[1],d.rotate[2]));this.wireframe&&(l.material=new THREE.MeshPhongMaterial({color:12425081,wireframe:!0,side:THREE.DoubleSide}));"front"==h?(l.rotation.x=d.rotation,l.rotation.y=d.rotation):(l.rotation.y=d.rotation,l.rotation.x=d.rotation)};this.select3DCssSolarSystem=
function(b){$("#solar-system").removeClass().addClass(b);$("."+b).parent().find("a").removeClass("active");$("."+b).addClass("active")};this.showHover=function(){if($("#universe").is(":visible")||"hover"!=h)h="hover",audioPlay("switch"),$("#universe").hide(),$("#controls").hide(),$(".line").hide(),n=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,1,2E3),r=new THREE.TrackballControls(n),r.minDistance=500,r.maxDistance=1E3,r.rotateSpeed=.005,r.enabled=this.wireframe||this.force_controls?
!0:!1,r.noPan=!0,this.drawObject(this.object_name)};this.showSideView=function(){$("body").is(".view-2D")?(audioPlay("bop"),$("body").removeClass("view-2D").addClass("view-3D"),this.showSolarSystem(!1)):this.showSolarSystem(!0)};this.showTopView=function(){$("body").is(".view-3D")?(audioPlay("bop"),$("body").removeClass("view-3D").addClass("view-2D"),this.showSolarSystem(!1)):this.showSolarSystem(!0)};this.showCompare=function(){$("body").is(".zoom-large")?(audioPlay("doopdoop"),$("body").removeClass("zoom-large").addClass("zoom-close"),
this.showSolarSystem(!1)):this.showSolarSystem(!0)};this.showPlanet=function(b){""!=b&&(this.object_name=b);if($("#universe").is(":visible")||"front"!=h)h="front",audioPlay("switch"),$("#universe").hide(),$("#controls").hide(),r.enabled=!0,this.select3DCssSolarSystem(this.object_name),this.drawObject(this.object_name)};this.hidePlanet=function(){$(".line").hide();$(".textcontainer").hide();m.remove(l);"saturn"==this.object_name?m.remove(y):"asteroids"==this.object_name&&this.hideAsteroids()};this.showAsteroids=
function(){C.forEach(function(b){m.add(b)})};this.hideAsteroids=function(){C.forEach(function(b){m.remove(b)})};this.showSolarSystem=function(b){$("#universe").is(":hidden")&&(b&&audioPlay("switch"),$("h1").html("The Solar System"),$("#universe").show(),$("#controls").show(),r.enabled=!0,this.hidePlanet())};this.showOrbit=function(){$("body").is(".zoom-close")?(audioPlay("doopdoop"),$("body").removeClass("zoom-close").addClass("zoom-large"),this.showSolarSystem(!1)):this.showSolarSystem(!0)};window.addEventListener("resize",
function(){n.aspect=window.innerWidth/window.innerHeight;n.updateProjectionMatrix();u.setSize(window.innerWidth,window.innerHeight)},!1)}else Detector.addGetWebGLMessage(w)}String.prototype.replaceAll=function(c,f){return this.split(c).join(f)};
function classHUD(c){var f=this,a={},g={},k=-1,q=-1,v=0;this.visible=!0;this.font_size_limit=200;this.init=function(){this.createTextBox("L",0,"");this.drawLine("L","create",0,"middle");for(i=0;6>i;i++)this.createTextBox("R",i,""),this.drawLine("R","create",i,"middle")};this.reset=function(){$("#textbox_L0").html("&nbsp;");for(x=0;6>x;x++)$("#textbox_R"+x).html("&nbsp;");q=k=-1};this.loadInfoAndStats=function(b){if(this.visible||"undefined"===typeof this.visible)this.reset(),$.get("info/"+b+"_info.txt",
this.onFileReceivedInfo,"text"),$.get("info/"+b+"_stats.txt",this.onFileReceivedStats,"text")};this.onFileReceivedInfo=function(b){b=b.replaceAll("[[","<div>");b=b.replaceAll("]]","</div>");b=b.split("\r\n\r\n");a[c.space.object_name]=b;b=a[c.space.object_name][0];$("#textbox_L0").html(b);f.LNext()};this.onFileReceivedStats=function(b){b=b.replaceAll("[[","<div>");b=b.replaceAll("]]","</div>");b=b.split("\r\n\r\n");g[c.space.object_name]=b;v=Math.ceil(g[c.space.object_name].length/6);f.RNext()};this.RBack=
function(){for(x=0;6>x;x++)$("#textbox_R"+x).html("&nbsp;");q--;0>q&&(q=v-1);var b=0,a=6*q;for(i=a;i<a+6;i++)$("#textbox_R"+b).html(g[c.space.object_name][i]),b++;this.RUpdate()};this.RNext=function(){for(x=0;6>x;x++)$("#textbox_R"+x).html("&nbsp;");q++;q>v-1&&(q=0);var b=0,a=6*q;for(i=a;i<a+6;i++)$("#textbox_R"+b).html(g[c.space.object_name][i]),b++;this.RUpdate()};this.LNext=function(){k++;k>a[c.space.object_name].length-1&&(k=0);$("#textbox_L0").html(a[c.space.object_name][k]);this.LUpdate()};
this.LBack=function(){k--;0>k&&(k=a[c.space.object_name].length-1);$("#textbox_L0").html(a[c.space.object_name][k]);this.LUpdate()};this.LUpdate=function(){this.fitFont($("#textbox_L0"),0,.6*$(window).height());this.drawLine("L","refresh",0,"middle")};this.RUpdate=function(){var b=1E4;for(i=0;6>i;i++){var a=this.fitFont($("#textbox_R"+i),0,.6*$(window).height()/8);a<b&&(b=a)}for(i=0;6>i;i++)$("#textbox_R"+i).css("font-size",this.limitSize(b,200)+"%");for(i=0;6>i;i++)this.drawLine("R","refresh",i,
"middle")};this.limitSize=function(b,a){-1!=this.font_size_limit&&(a=this.font_size_limit);return b>a?a:b};this.fitFont=function(b,a,g,d,c,f,h,m,k){d=void 0===d?10:d;c=void 0===c?-1:c;f=void 0===f?-1:f;h=void 0===h?300:h;m=void 0===m?10:m;k=void 0===k?0:k;if(!b.is(":visible")||50<k)return 200;k++;if(m<d)return h;if(b.height()>g){h-=m;if(h==c)return this.fitFont(b,a,g,d,h,f,h,parseInt(m/2),k);b.css("font-size",this.limitSize(h,250)+"%");return this.fitFont(b,a,g,d,h,f,h,m,k)}if(b.height()<g){h+=m;
if(h==f)return this.fitFont(b,a,g,d,c,h,h,parseInt(m/2),k);b.css("font-size",this.limitSize(h,250)+"%");return this.fitFont(b,a,g,d,c,h,h,m,k)}};this.createTextBox=function(b,a,g){var d=document.createElement("div");d.id="textbox_"+b+a;d.className="textbox textbox_"+b;document.getElementById("textwrapper_"+b).appendChild(d);var c=document.createElement("div");c.id="blank_"+b+a;c.className="blank";document.getElementById("blankwrapper_"+b).appendChild(c);d.style.width=100;d.style.height=100;d.innerHTML=
g;d.style.top="0px";d.style.left="0px"};this.createLineElement=function(b,a,g,d,c,f){var h=document.createElement("div");h.id="line_"+b+a;h.className="line";this.updateLine(h,g,d,c,f);return h};this.updateLine=function(b,a,g,c,f){a="width: "+c+"px; height: 0px; -moz-transform: rotate("+f+"rad); -webkit-transform: rotate("+f+"rad); -o-transform: rotate("+f+"rad); -ms-transform: rotate("+f+"rad); position: absolute; top: "+g+"px; left: "+a+"px; ";$(".line").is(":visible")&&b.setAttribute("style",a);
return b};this.calculateLine=function(b,a,g,c){var d=b-g,f=a-c,h=Math.sqrt(d*d+f*f);return[(b+g)/2-h/2,(a+c)/2,h,Math.PI-Math.atan2(-f,d)]};this.drawLine=function(b,a,g,c){var d=$("#textcontainer_"+b);textcontainer_top=($(window).height()-d.outerHeight())/2;d.css("top",textcontainer_top);d.css("display","block");var f=$("#textbox_"+b+g),h=f.offset(),k=h.top;d=k+f.outerHeight()/2;h=h.left;k+=f.outerHeight();f=h+f.outerWidth();var q=$("#textwrapper_"+b),n=$("#blankwrapper_"+b);q=(q.outerHeight()-n.outerHeight())/
2;n.offset();n=$("#blank_"+b+g);var p=n.offset(),t=p.top;p=p.left;var r=t+n.outerHeight()/2;t+=n.outerHeight();n=p+n.outerWidth();"bottom"==c?sy=k-2:"middle"==c&&(sy=d);if("create"==a)a=this.calculateLine(h,sy,p+10,k-2),line=this.createLineElement(b,g,a[0],a[1],a[2],a[3]),document.body.appendChild(line);else return a="R"==b?this.calculateLine(h-2,sy,p,t+q):this.calculateLine(f,d,n,r+q),line=document.getElementById("line_"+b+g),this.updateLine(line,a[0],a[1],a[2],a[3])}}
function classUI(){function c(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}this.selected_item="";this.space=new classSpace(this);this.hud=new classHUD(this);var f=this.space,a=this;this.init=function(){this.hud.init();this.highlightTopButtonColor(".fs-hud","#8f99ba");this.highlightTopButtonColor(".fs-panels","#8f99ba");this.highlightTopButtonColor(".fs-sound","#8f99ba");this.highlightButtonColor(".fs-planet");this.highlightViewButtonColor(".fs-sideview");
$("#selector").val("");$(window).on("resize",a.onWindowResize);$(document).keyup(function(a){documentKeyUp(a)});$(document).mousedown(function(g){a.showPanels(g)});$(".textcontainer").on("mousedown click","a",function(g){a.linkClicked(g)});$("#textcontainer_L").mousedown(function(g){a.HUDLmousedown(g)});$("#textcontainer_R").mousedown(function(g){a.HUDRmousedown(g)});$(".fs-hud").on("click",function(){a.toggleHUD()});$(".fs-panels").on("click",function(){a.hidePanels()});$(".fs-sound").on("click",
function(){a.toggleSound()});$(".fs-orbit").on("click",function(){a.showOrbitClicked()});$(".fs-planet").on("click",function(){a.showPlanetClicked()});$(".fs-topview").click(function(){a.showTopViewClicked()});$(".fs-sideview").click(function(){a.showSideViewClicked()});$(".fs-hover").click(function(){a.showHoverClicked()});$(".fs-compare").click(function(){a.showCompareClicked()});$("#selector_button").on("click",function(){a.selectorButtonClicked()});$(".selector_item").on("click",function(){a.selectorItemClicked(this)});
$("#sun").on("click",function(){a.showPlanetClicked("sun")});$("#mercury .planet").on("click",function(){a.showPlanetClicked("mercury")});$("#venus .planet").on("click",function(){a.showPlanetClicked("venus")});$("#earth .planet").on("click",function(){a.showPlanetClicked("earth")});$("#moon .planet").on("click",function(){a.showPlanetClicked("moon")});$("#mars .planet").on("click",function(){a.showPlanetClicked("mars")});$("#jupiter .planet").on("click",function(){a.showPlanetClicked("jupiter")});
$("#saturn .planet").on("click",function(){a.showPlanetClicked("saturn")});$("#uranus .planet").on("click",function(){a.showPlanetClicked("uranus")});$("#neptune .planet").on("click",function(){a.showPlanetClicked("neptune")})};this.update=function(){this.hud.visible&&(a.hud.LUpdate(),a.hud.RUpdate())};this.onWindowResize=function(){a.update()};this.documentKeyUp=function(){27===e.keyCode&&$(".panel").toggle()};this.showHoverClicked=function(){this.hideMenu();this.highlightButtonColor(".fs-hover");
$("h1").html(c(a.space.object_name));f.showHover()};this.showSideViewClicked=function(){this.hideMenu();this.highlightViewButtonColor(".fs-sideview");f.showSideView()};this.showTopViewClicked=function(){this.hideMenu();this.highlightViewButtonColor(".fs-topview");f.showTopView()};this.showPlanetClicked=function(a){"undefined"!==typeof a&&(f.object_name=a);this.hideMenu();this.highlightButtonColor(".fs-planet");$("h1").html(c(f.object_name));$("#selector_label").html(f.object_name.toUpperCase());if(this.hud.visible||
"undefined"===typeof this.hud.visible)$(".line").show(),$(".textcontainer").show();f.showPlanet(f.object_name)};this.showOrbitClicked=function(){this.hideMenu();this.highlightButtonColor(".fs-orbit");this.space.showOrbit()};this.showCompareClicked=function(){this.hideMenu();this.highlightButtonColor(".fs-compare");this.space.showCompare()};this.showPanels=function(a){switch(a.which){case 3:$(".panel").show(),this.highlightTopButtonColor(".fs-panels","#8f99ba"),audioPlay("button-click")}};this.highlightViewButtonColor=
function(a){$(".fs-sideview").css("color","#aaa");$(".fs-topview").css("color","#aaa");$(a).css("color","#a5daba")};this.highlightButtonColor=function(a){$(".fs-orbit").css("color","#aaa");$(".fs-planet").css("color","#aaa");$(".fs-compare").css("color","#aaa");$(".fs-hover").css("color","#aaa");$(a).css("color","rgb(182, 173, 216)")};this.linkClicked=function(a){window.location.href=this.href;a.preventDefault();a.stopPropagation()};this.HUDLmousedown=function(c){switch(c.which){case 1:a.hud.LNext(),
audioPlay("hud-click");case 2:break;case 3:a.hud.LBack(),audioPlay("hud-click")}c.preventDefault();c.stopPropagation()};this.HUDRmousedown=function(c){switch(c.which){case 1:a.hud.RNext(),audioPlay("hud-click");case 2:break;case 3:a.hud.RBack(),audioPlay("hud-click")}c.preventDefault();c.stopPropagation()};this.toggleHUD=function(c){$("#universe").is(":hidden")&&(a.hud.visible||"undefined"===typeof a.hud.visible?(a.hud.visible=!1,this.highlightTopButtonColor(".fs-hud","#aaa"),$("#textcontainer_R").hide(),
$("#textcontainer_L").hide(),$(".line").hide(),$("h1").hide()):(a.hud.visible=!0,this.highlightTopButtonColor(".fs-hud","#8f99ba"),a.hud.loadInfoAndStats(f.object_name),$(".line").show(),$("h1").show()),audioPlay("button-click"))};this.hidePanels=function(){$(".panel").hide();this.highlightTopButtonColor(".fs-panels","#aaa");audioPlay("button-click")};this.toggleSound=function(){soundon?(soundon=!1,this.highlightTopButtonColor(".fs-sound","#aaa"),snd1.pause(),snd2.pause()):(soundon=!0,this.highlightTopButtonColor(".fs-sound",
"#8f99ba"),snd1.play(),snd2.play());audioPlay("button-click")};this.highlightTopButtonColor=function(a,c){$(a).css("color",c)};this.hideMenu=function(){$(".selector").css("bottom","-550px")};this.selectorButtonClicked=function(){audioPlay("screen");0>parseInt($(".selector").css("bottom"))?($(".selector").css("bottom","0px"),$(".selector").css("width","300px")):$(".selector").css("bottom","-550px")};this.selectorItemClicked=function(a){a=$(a).data("value");a!=f.object_name&&"undefined"!==typeof a&&
($("h1").html(c(a)),audioPlay("beep"),$("#universe").is(":hidden")&&f.drawObject(a),f.select3DCssSolarSystem(a),$("#selector_label").html(f.object_name.toUpperCase()));$(".selector").css("bottom","-550px")}}var soundon=!0,snd1=new Audio,src1=document.createElement("source");src1.id="src1";src1.type="audio/mpeg";src1.src="audio/space1.wav";snd1.appendChild(src1);snd1.addEventListener("ended",function(){this.currentTime=0;this.play()},!1);snd1.play();var snd2=new Audio,src2=document.createElement("source");
src2.id="src2";src2.type="audio/mpeg";src2.src="audio/space2.wav";snd2.appendChild(src2);snd2.addEventListener("ended",function(){this.currentTime=0;this.play()},!1);snd2.play();function audioPlay(c){var f=new Audio,a=document.createElement("source");a.id="src3";a.type="audio/mpeg";a.src="audio/"+c+".wav";f.appendChild(a);f.addEventListener("ended",function(){},!1);f.play()}
function audioPlayArray(c,f){f=void 0===f?0:f;if(f>c.length+1)return alert("finished"),!0;var a=new Audio,g=document.createElement("source");g.type="audio/mpeg";g.src="audio/"+c[f]+".wav";a.appendChild(g);a.addEventListener("ended",function(){f++;audioPlayArray(c,f)},!1);a.play()};
